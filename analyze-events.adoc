---
sidebar: sidebar
permalink: analyze-events.html
keywords: analyze events, events, FSx for ONTAP events, troubleshoot FSx for ONTAP
summary: "Analyze EMS events within NetApp Workload Factory for FSx for ONTAP."
---
= Analyze FSx for ONTAP EMS events in NetApp Workload Factory
:icons: font
:imagesdir: ./media/

[.lead]
Quickly identify and resolve FSx for ONTAP file system issues with the smart event analyzer in NetApp Workload Factory. The event analyzer automatically extracts and analyzes Event Management System (EMS) events, leveraging Agentic AI with Amazon Bedrock integration.

== About this task 

Storage administrators often respond to FSx for ONTAP EMS events only after customer complaints, or by maintaining custom scripts and alarms. This reactive approach can reduce efficiency, delay issue resolution, and increase downtime.

The event analyzer automatically extracts error, warning, and emergency EMS events from FSx for ONTAP file systems. You can view these events by link:https://docs.netapp.com/us-en/workload-fsx-ontap/create-link.html[connecting to the file system using a link] and by link:https://docs.netapp.com/us-en/workload-setup-admin/add-credentials.html[granting _view, planning, and analysis_ permissions^] in your AWS account.

With Amazon Bedrock integration, Workload Factory uses AI to analyze events and provide actionable insights to maintain the health and performance of your FSx for ONTAP file systems. Events are displayed for 72 hours before removal.

With Amazon Bedrock integration, Workload Factory uses AI to analyze the events and provide insights to help you maintain the health and performance of FSx for ONTAP file system. Workload Factory displays error, warning, and emergency events. Events are displayed for 72 hours before removal.

Key benefits include:

* Advanced troubleshooting: AI automatically identifies and analyzes events, reducing manual investigation time.
* Best-practice remediation: The event analyzer gives clear, actionable steps to resolve FSx for ONTAP EMS events.

The event analyzer gives you full control of your environment while benefiting from advanced AI analysis.

To allow Workload Factory to analyze events, you need to activate Amazon Bedrock, select the model Workload Factory uses, create a private endpoint to connect to Amazon Bedrock, add permissions, and create an enterprise license.

link:https://aws.amazon.com/bedrock/pricing/[Amazon Bedrock pricing^]

=== Data privacy and security
Your data privacy and security are protected through: 

* *Data sovereignty*: All data and aggregations stay within your AWS account and are communicated via private VPC endpoint (Amazon Bedrock), with no public internet exposure. 

* *No AI Training*: Customer data is not used to train or improve models. Amazon Bedrock processes events in real time but does not train on your data. Results are stored only in your environment. 

For more details, refer to the link:https://docs.aws.amazon.com/bedrock/latest/userguide/data-protection.html[Amazon Bedrock data protection documentation^]. 

== Before you begin
To use the event analyzer, ensure the following:

* You have link:https://docs.netapp.com/us-en/workload-setup-admin/add-credentials.html[_operations and remediation_ permissions^] in your AWS account to analyze events for FSx for ONTAP file systems. 
* Port 22 (SSH) is open in the security group associated with your FSx for ONTAP file system. 

Additional requirements (the system will prompt you during log error analysis):

** *Amazon Bedrock activation* 
+
Configure Amazon Bedrock APIs for each AWS account. Amazon BedRock APIs are used to provide insights for FSx for ONTAP events. 
+
Recommended model: `anthropic.claude-sonnet-4-20250514-v1:0`. Provide the Inference profile ARN for your selected region.

** *Workload Factory link* 
+
Create and associate a link with an FSx for ONTAP file system to enable AI-powered events analysis. A link establishes a trust relationship between Workload Factory and one or more FSx for ONTAP file systems and leverages AWS Lambda.
+
link:https://docs.netapp.com/us-en/workload-fsx-ontap/create-link.html[Learn how to associate an existing link or to create and associate a new link]. After the link associates, return to this operation.

** *AWS IAM permissions* 
+
Add the following permissions to the Workload Factory IAM role associated policy.

*** Permissions: `bedrock:InvokeModel` and `bedrock:InvokeModelWithResponseStream`
+ 
These permissions allow Workload Factory to invoke Bedrock models for error investigation and remediation guidance. This profile also ensures secure AI access for tailored insights. 

*** AWS credentials associated with Workload Factory: `bedrock:GetInferenceProfile` and `bedrock:ListInferenceProfiles` permissions
+ 
These permissions verify model availability.

== View and analyze EMS events for FSx for ONTAP
Use the Workload Factory console to view and analyze EMS events for FSx for ONTAP file systems.

.Steps

. Log in using one of the link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html[console experiences^].
. Select the menu image:workloads-menu-icon.png[The hamburger menu icon is used to navigate to workloads like storage, eda, ai, databases, vmware, and administration.] and then select *Storage*.
. From the Storage menu, select *Analysis*. 
. From the Analysis screen, select the AWS accounts, credentials, and regions that contain the FSx for ONTAP file systems you want to analyze.
+
Only FSx for ONTAP file systems with events display on the screen.
. If needed, complete the AI analysis setup requirements by following the on-screen prompts to meet any missing prerequisites.
. Find the FSx for ONTAP file system you want to analyze and then select *View events*.
. Review the detailed event information.
