---
sidebar: sidebar
permalink: analyze-events.html
keywords: analyze events, events, FSx for ONTAP events, troubleshoot FSx for ONTAP
summary: "Analyze events within NetApp Workload Factory for FSx for ONTAP."
---
= Analyze events in Workload Factory
:icons: font
:imagesdir: ./media/

[.lead]
Use the smart event analyzer to automatically interpret FSx for ONTAP events so that you can quickly identify and resolve issues. The Agentic AI-based analysis requires Amazon Bedrock integration.

== About this task
Event analysis and remediation help maintain the health and performance of FSx for ONTAP file systems. Acting on FSx for ONTAP events effectively requires time and effort. Currently, administrators act on FSx for ONTAP storage events reactively after receiving internal customer complaints or by creating custom scripts and defining alarms, demanding time and effort to reach resolutions. These challenges can delay issue resolution, increase downtime, and cause operational inefficiencies. The event analyzer addresses these challenges with these key benefits:

* Advanced troubleshooting: Leverages AI to proactively detect and analyze events, providing clear, resolution steps for ONTAP events that require attention.
* Best-practice remediation: Delivers tailored remediation recommendations for FSx for ONTAP, based on the customer-specific environment, empowering users of all skill levels to resolve issues confidently.

Whenever you use the event analyzer, you maintain full control over your environment while benefiting from advanced AI analysis.

To use the event analyzer, you need to activate Amazon Bedrock, select the model Workload Factory uses, create a private endpoint to connect to Amazon Bedrock, add permissions, and create an enterprise license. 

link:https://aws.amazon.com/bedrock/pricing/[Amazon Bedrock pricing^]

=== Data privacy and security
The feature ensures data privacy and security with the following measures: 

.Data sovereignty 

Data and aggregations stay within your AWS account, communicated via private VPC endpoint (Amazon Bedrock), ensuring no public internet exposure. 

.No AI Training 

Customer data is not used to train or improve models. Amazon Bedrock processes events in real time but does not train on your data. Results are stored in your environment for reference only. For more details, refer to the link:https://docs.aws.amazon.com/bedrock/latest/userguide/data-protection.html[Amazon Bedrock data protection documentation^]. 

== Before you begin
To use the event analyzer, you must meet the following prerequisites:

* You must link:https://docs.netapp.com/us-en/workload-setup-admin/add-credentials.html[grant _view, planning, and analysis_ permissions^] in your AWS account to view events for FSx for ONTAP file systems. 
* The following prerequisites also must be met. You will be prompted to complete these prerequisites as part of the steps to analyze log errors. 

** *Amazon Bedrock activation* 
+
Amazon Bedrock is required so that the event analyzer can leverage Bedrock APIs to provide AI-based insights for FSx for ONTAP events.
+
Recommended model: Amazon Bedrock Model (anthropic.claude-sonnet-4-20250514-v1:0). You must provide the Inference profile ARN for this model in the selected region. 

** *Workload Factory link* 
+
A link is required to enable the AI-powered events analysis. A link creates a trust relationship between Workload Factory and one or more FSx for ONTAP file systems. Links leverage AWS Lambda. 
+
link:https://docs.netapp.com/us-en/workload-fsx-ontap/create-link.html[Learn how to associate an existing link or to create and associate a new link]. After the link associates, return to this operation.

** *AWS IAM permissions* 
+
You must add the following permissions to the Workload Factory IAM role associated policy.

*** Permission: `bedrock:InvokeModel`
+ 
This permission enables Workload Factory to invoke Bedrock models for proactive error investigation and remediation guidance. This profile also ensures secure AI access for tailored insights. 

*** AWS credentials associated with Workload Factory: `bedrock:GetFoundationModelAvailability` and `bedrock:ListInferenceProfiles` permissions
+ 
These permissions verify model availability.

== Analyze error logs
Use the Workload Factory console to analyze SQL Server error logs.

.Steps

. Log in using one of the link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html[console experiences^].
. In the Storage tile, select *Go to Storage*.
. From the Storage menu, select *Analysis*. 
. From the Analysis screen, select the AWS accounts, credentials, and regions that contain the FSx for ONTAP file systems you want to analyze.
+
Only FSx for ONTAP file systems with events display on the screen.
. If needed, complete the *AI analysis setup requirements* by following the on-screen prompts to meet any missing prerequisites.
. Find the FSx for ONTAP file system you want to analyze and then select *View events*. 
. Review the detailed event information.
